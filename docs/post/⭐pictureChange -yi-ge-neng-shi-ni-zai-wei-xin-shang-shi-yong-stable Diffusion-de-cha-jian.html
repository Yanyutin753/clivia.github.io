<!DOCTYPE html>
<html data-color-mode="light" data-dark-theme="dark" data-light-theme="light" lang="zh-CN">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href="//cdn.staticfile.org/Primer/21.0.7/primer.css" rel="stylesheet" />
    <link rel="icon" href="https://github.com/Yanyutin753/clivia.github.io/assets/132346501/4f539711-98a1-462a-b871-576d3c855ad6">
    <script>
        if(localStorage.getItem("meek_theme")==null){}
        else if(localStorage.getItem("meek_theme")=="dark"){document.getElementsByTagName("html")[0].attributes.getNamedItem("data-color-mode").value="dark";}
        else if(localStorage.getItem("meek_theme")=="light"){document.getElementsByTagName("html")[0].attributes.getNamedItem("data-color-mode").value="light";}
    </script>
    
<meta name="description" content="⭐pictureChange 一个能使你在微信上使用stable Diffusion的插件">
<title>⭐pictureChange 一个能使你在微信上使用stable Diffusion的插件</title>
<link href="//unpkg.com/@wooorm/starry-night@2.1.1/style/both.css" rel="stylesheet" />

</head>
<style>
body{box-sizing: border-box;min-width: 200px;max-width: 900px;margin: 20px auto;padding: 45px;font-size: 16px;font-family: sans-serif;line-height: 1.25;}
#header{display:flex;padding-bottom:8px;border-bottom: 1px solid var(--borderColor-muted, var(--color-border-muted));margin-bottom: 16px;}
#footer {margin-top:64px; text-align: center;font-size: small;}

</style>

<style>
.postTitle{margin: auto 0;font-size:40px;font-weight:bold;}
.title-right{display:flex;margin:auto 0 0 auto;}
.title-right .circle{padding: 14px 16px;margin-right:8px;}
#postBody{border-bottom: 1px solid var(--color-border-default);padding-bottom:36px;}
#postBody hr{height:2px;}
#cmButton{height:48px;margin-top:48px;}
#comments{margin-top:64px;}
.g-emoji{font-size:24px;}
@media (max-width: 600px) {
    body {padding: 8px;}
    .postTitle{font-size:24px;}
}
</style>




<body>
    <div id="header">
<h1 class="postTitle">⭐pictureChange 一个能使你在微信上使用stable Diffusion的插件</h1>
<div class="title-right">
    
    <a href="http://blog.clivia.fun"><button id="buttonHome" class="btn btn-invisible circle" title="首页">
        <svg class="octicon" width="16" height="16">
            <path id="pathHome" fill-rule="evenodd" d="M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z"></path>
        </svg>
    </button></a>

    
    <a href="https://github.com/Yanyutin753/clivia.github.io/issues/6" target="_blank"><button class="btn btn-invisible circle" title="Issue">
        <svg class="octicon" width="16" height="16">
            <path id="pathIssue" fill-rule="evenodd" d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"></path>
        </svg>
    </button></a>
    

    <button class="btn btn-invisible circle" onclick="modeSwitch();" title="切换主题">
        <svg class="octicon" width="16" height="16" >
            <path id="themeSwitch" fill-rule="evenodd"></path>
        </svg>
    </button>

</div>
</div>
    <div id="content">
<div class="markdown-body" id="postBody"><div align="center">
<h1>🖼️ ChatGPT-ON-WeChat PictureChange插件</h1>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/b1fdb4b09247879bed2d1e7f4c50c996bdb0d47165b6a4efdad19755a91d81f3/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f59616e797574696e3735332f706963747572654368616e67653f7374796c653d666c61742d737175617265266c6162656c3d5374617273266c6f676f3d676974687562"><img src="https://camo.githubusercontent.com/b1fdb4b09247879bed2d1e7f4c50c996bdb0d47165b6a4efdad19755a91d81f3/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f59616e797574696e3735332f706963747572654368616e67653f7374796c653d666c61742d737175617265266c6162656c3d5374617273266c6f676f3d676974687562" alt="GitHub stars" data-canonical-src="https://img.shields.io/github/stars/Yanyutin753/pictureChange?style=flat-square&amp;label=Stars&amp;logo=github" style="max-width: 100%;"></a> <a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/ddfbc2652ce0b33a71a4d027c6523aab044cb860028749e3488667d8a1af9395/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f666f726b732f59616e797574696e3735332f706963747572654368616e67652e7376673f7374796c653d666c61742d737175617265266c6162656c3d466f726b73266c6f676f3d676974687562"><img src="https://camo.githubusercontent.com/ddfbc2652ce0b33a71a4d027c6523aab044cb860028749e3488667d8a1af9395/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f666f726b732f59616e797574696e3735332f706963747572654368616e67652e7376673f7374796c653d666c61742d737175617265266c6162656c3d466f726b73266c6f676f3d676974687562" alt="GitHub forks" data-canonical-src="https://img.shields.io/github/forks/Yanyutin753/pictureChange.svg?style=flat-square&amp;label=Forks&amp;logo=github" style="max-width: 100%;"></a></p>
<h2>适用于chatgpt-on-wechat项目插件</h2>
<h2>✔支持运用stable diffusion webui画图，图生图</h2>
<h2>✔支持企业微信，个人号，公众号部署</h2>
</div>
<h2>插件描述</h2>
<ul>
<li>支持运用百度AI进行图像处理</li>
<li>支持运用stable diffusion webui进行图像处理</li>
<li>支持运用stable diffusion webui画图</li>
<li>支持多种sd模型</li>
<li>支持并发控制</li>
<li>支持管理员修改Host</li>
<li>支持自定义模板</li>
<li>支持管理员开关群聊的图生图</li>
<li>支持管理员开关图生图功能，不影响文生图</li>
<li>支持企业微信，个人号，公众号部署</li>
</ul>
<h2>环境要求</h2>
<p>使用前先安装stable diffusion webui，并在它的启动参数中添加 "--api"。</p>
<p>安装具体信息，请参考<a href="https://www.youtube.com/watch?v=Z6FmiaWBbAE&amp;t=3s" rel="nofollow">视频</a>。</p>
<p>部署运行后，保证主机能够成功访问<a href="http://127.0.0.1:7860/" rel="nofollow">http://127.0.0.1:7860/</a></p>
<p>如果是服务器部署则不必需要内网穿透，如果是本地电脑部署推荐<a href="https://dashboard.cpolar.com/signup" rel="nofollow">cpolar</a>启动内网穿透</p>
<p>请确保<strong>安装</strong>本插件的依赖包<code class="notranslate">pip3 install -r requirements.txt</code></p>
<pre class="notranslate"><code class="notranslate">pip3 install -r requirements.txt
</code></pre>
<h2>使用说明</h2>
<p>请将<code class="notranslate">config.json.template</code>复制为<code class="notranslate">config.json</code>，并修改其中的参数和规则。</p>
<p>PS: 修改了pictureChange的<code class="notranslate">host</code>和<code class="notranslate">port</code>和<code class="notranslate">sd_model_checkpoint</code>和 <code class="notranslate">api_key</code> ,<code class="notranslate">secret_key</code>，并填充相应的模型名称</p>
<h3>图生图请求格式</h3>
<h2>个人号</h2>
<ul>
<li>群聊</li>
</ul>
<ol>
<li>需要发送"开启图生图"之后自动识别群聊里的每一张图</li>
<li>不需要则发送"关闭图生图"之后关闭功能<br>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/Yanyutin753/wechat_pictureChange/assets/132346501/1813d361-242f-4ac1-8cbf-c0282e95f34e"><img src="https://github.com/Yanyutin753/wechat_pictureChange/assets/132346501/1813d361-242f-4ac1-8cbf-c0282e95f34e" alt="image" style="max-width: 100%;"></a></li>
</ol>
<ul>
<li>单聊<br>
直接发照片即可</li>
</ul>
<h2>公众号和企业微信</h2>
<ul>
<li>直接发图即可使用功能<br>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/Yanyutin753/wechat_pictureChange/assets/132346501/6a3559ff-f538-469d-84b8-4446bf814207"><img src="https://github.com/Yanyutin753/wechat_pictureChange/assets/132346501/6a3559ff-f538-469d-84b8-4446bf814207" alt="image" style="max-width: 100%;"></a></li>
</ul>
<h2>godcmd添加功能</h2>
<ul>
<li>个人号使用一键开启或关闭图生图功能</li>
<li>更改Host(更改地址,由于本地部署内网穿透，每次的ip不同，需要更改)<br>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/Yanyutin753/wechat_pictureChange/assets/132346501/722ad22c-ef26-47e0-a105-86b8ffc02a08"><img src="https://github.com/Yanyutin753/wechat_pictureChange/assets/132346501/722ad22c-ef26-47e0-a105-86b8ffc02a08" alt="image" style="max-width: 100%;"></a></li>
</ul>
<h2>实现分流控制</h2>
<ul>
<li>当请求数超过3的时候，会发送消息，需要用户等待一会，直至前面用户完成任务之后再进行<br>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/Yanyutin753/wechat_pictureChange/assets/132346501/8f56227b-e8b2-49a1-902b-1812f8336765"><img src="https://github.com/Yanyutin753/wechat_pictureChange/assets/132346501/8f56227b-e8b2-49a1-902b-1812f8336765" alt="image" style="max-width: 100%;"></a></li>
</ul>
<h3>画图请求格式</h3>
<p>用户的画图请求格式为:</p>
<pre class="notranslate"><code class="notranslate">    &lt;画图触发词&gt;&lt;关键词1&gt; &lt;关键词2&gt; ... &lt;关键词n&gt;:&lt;prompt&gt; 
</code></pre>
<p>例如: 画高清 现实:男孩，强壮，挺拔，running，黑色耳机，白色短袖（中间有个羊字），黑色头发，黑色短裤</p>
<p>会触发三个关键词 "高清", "现实",</p>
<p>PS: 实际参数分为两部分:</p>
<ul>
<li>一部分是<code class="notranslate">params</code>，为画画的参数;参数名<strong>必须</strong>与webuiapi包中<a href="https://github.com/mix1009/sdwebuiapi/blob/fb2054e149c0a4e25125c0cd7e7dca06bda839d4/webuiapi/webuiapi.py#L163">txt2img api</a>的参数名一致</li>
<li>另一部分是<code class="notranslate">sd_model_checkpoint</code>，它必须和你下载的模型(<a href="http://127.0.0.1:7860/sdapi/v1/options" rel="nofollow">http://127.0.0.1:7860/sdapi/v1/options</a> )一致。</li>
</ul>
<h3>部署操作</h3>
<ol>
<li>确保stable diffusion webui部署成功且能访问</li>
<li>安装包解压，并确保只把pictureChange文件夹plugins目录里面，之后把<code class="notranslate">config.json.template</code>复制为<code class="notranslate">config.json</code>，并修改其中的参数和规则。<br>
具体如下</li>
</ol>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> config.json文件内容示例</span>
{
    <span class="pl-s"><span class="pl-pds">"</span>max_number<span class="pl-pds">"</span></span>:3, <span class="pl-c"><span class="pl-c">#</span>最大并行人数量</span>
    <span class="pl-s"><span class="pl-pds">"</span>request_bot_name<span class="pl-pds">"</span></span> <span class="pl-c1">:</span> <span class="pl-s"><span class="pl-pds">"</span>群聊请求机器人的名称，和config.json环境变量一致（只限一个）<span class="pl-pds">"</span></span>
    <span class="pl-s"><span class="pl-pds">"</span>file_url<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>file=F:/sd-webui-aki_v4.7/outputs/  这个地址是你图片生成的地址<span class="pl-pds">"</span></span> 
     <span class="pl-c"><span class="pl-c">#</span>申请地址https://ai.baidu.com/ai-doc</span>
    <span class="pl-s"><span class="pl-pds">"</span>api_key<span class="pl-pds">"</span></span> <span class="pl-c1">:</span> <span class="pl-s"><span class="pl-pds">"</span>你的百度云api_key<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>secret_key<span class="pl-pds">"</span></span> <span class="pl-c1">:</span> <span class="pl-s"><span class="pl-pds">"</span>你的百度云secret_key<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>use_group<span class="pl-pds">"</span></span>: [],<span class="pl-c"><span class="pl-c">#</span>不用填</span>
    <span class="pl-s"><span class="pl-pds">"</span>max_size<span class="pl-pds">"</span></span>: 1150,
    <span class="pl-s"><span class="pl-pds">"</span>start<span class="pl-pds">"</span></span>: {
        <span class="pl-s"><span class="pl-pds">"</span>host<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>你的sd画图的ip<span class="pl-pds">"</span></span>,<span class="pl-c"><span class="pl-c">#</span>填上你的ip</span>
        <span class="pl-s"><span class="pl-pds">"</span>port<span class="pl-pds">"</span></span>: 80,<span class="pl-c"><span class="pl-c">#</span>填上你的ip的端口号</span>
        <span class="pl-s"><span class="pl-pds">"</span>use_https<span class="pl-pds">"</span></span>: <span class="pl-c1">false</span>
    },
      <span class="pl-s"><span class="pl-pds">"</span>defaults<span class="pl-pds">"</span></span>: {
        <span class="pl-s"><span class="pl-pds">"</span>params<span class="pl-pds">"</span></span>: {
            <span class="pl-s"><span class="pl-pds">"</span>sampler_name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>DPM++ 2M Karras<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>steps<span class="pl-pds">"</span></span>: 20,
            <span class="pl-s"><span class="pl-pds">"</span>width<span class="pl-pds">"</span></span>: 512,
            <span class="pl-s"><span class="pl-pds">"</span>height<span class="pl-pds">"</span></span>: 512,
            <span class="pl-s"><span class="pl-pds">"</span>cfg_scale<span class="pl-pds">"</span></span>: 7,
            <span class="pl-s"><span class="pl-pds">"</span>prompt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>absurdres, 8k<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>negative_prompt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>(((nsfw))),EasyNegative,badhandv4,ng_deepnegative_v1_75t,(worst quality:2), (low quality:2), (normal quality:2), lowres, ((monochrome)), ((grayscale)), bad anatomy,DeepNegative, skin spots, acnes, skin blemishes,(fat:1.2),facing away, looking away,tilted head, lowres,bad anatomy,bad hands, missing fingers,extra digit, fewer digits,bad feet,poorly drawn hands,poorly drawn face,mutation,deformed,extra fingers,extra limbs,extra arms,extra legs,malformed limbs,fused fingers,too many fingers,long neck,cross-eyed,mutated hands,polar lowres,bad body,bad proportions,gross proportions,missing arms,missing legs,extra digit, extra arms, extra leg, extra foot,teethcroppe,signature, watermark, username,blurry,cropped,jpeg artifacts,text,error,Lower body exposure<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>enable_hr<span class="pl-pds">"</span></span>: false,
            <span class="pl-s"><span class="pl-pds">"</span>hr_scale<span class="pl-pds">"</span></span>: 2,
            <span class="pl-s"><span class="pl-pds">"</span>hr_upscaler<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Latent<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>hr_second_pass_steps<span class="pl-pds">"</span></span>: 15,
            <span class="pl-s"><span class="pl-pds">"</span>denoising_strength<span class="pl-pds">"</span></span>: 0.7
        },
        <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span>: {
            <span class="pl-s"><span class="pl-pds">"</span>sd_model_checkpoint<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>anything-v5-PrtRE.safetensors [7f96a1a9ca]<span class="pl-pds">"</span></span>
        }
    },
    <span class="pl-s"><span class="pl-pds">"</span>rules<span class="pl-pds">"</span></span>: [
        {
            <span class="pl-s"><span class="pl-pds">"</span>keywords<span class="pl-pds">"</span></span>: [
                <span class="pl-s"><span class="pl-pds">"</span>横版<span class="pl-pds">"</span></span>,
                <span class="pl-s"><span class="pl-pds">"</span>壁纸<span class="pl-pds">"</span></span>
            ],
            <span class="pl-s"><span class="pl-pds">"</span>params<span class="pl-pds">"</span></span>: {
                <span class="pl-s"><span class="pl-pds">"</span>width<span class="pl-pds">"</span></span>: 640,
                <span class="pl-s"><span class="pl-pds">"</span>height<span class="pl-pds">"</span></span>: 384
            },
            <span class="pl-s"><span class="pl-pds">"</span>desc<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>分辨率会变成640x384<span class="pl-pds">"</span></span>
        },
        {
            <span class="pl-s"><span class="pl-pds">"</span>keywords<span class="pl-pds">"</span></span>: [
                <span class="pl-s"><span class="pl-pds">"</span>竖版<span class="pl-pds">"</span></span>
            ],
            <span class="pl-s"><span class="pl-pds">"</span>params<span class="pl-pds">"</span></span>: {
                <span class="pl-s"><span class="pl-pds">"</span>width<span class="pl-pds">"</span></span>: 384,
                <span class="pl-s"><span class="pl-pds">"</span>height<span class="pl-pds">"</span></span>: 640
            }
        },
        {
            <span class="pl-s"><span class="pl-pds">"</span>keywords<span class="pl-pds">"</span></span>: [
                <span class="pl-s"><span class="pl-pds">"</span>高清<span class="pl-pds">"</span></span>
            ],
            <span class="pl-s"><span class="pl-pds">"</span>params<span class="pl-pds">"</span></span>: {
                <span class="pl-s"><span class="pl-pds">"</span>enable_hr<span class="pl-pds">"</span></span>: true,
                <span class="pl-s"><span class="pl-pds">"</span>hr_scale<span class="pl-pds">"</span></span>: 1.4
            },
            <span class="pl-s"><span class="pl-pds">"</span>desc<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>出图分辨率长宽都会提高1.4倍<span class="pl-pds">"</span></span>
        },
        {
            <span class="pl-s"><span class="pl-pds">"</span>keywords<span class="pl-pds">"</span></span>: [
                <span class="pl-s"><span class="pl-pds">"</span>二次元<span class="pl-pds">"</span></span>
            ],
            <span class="pl-s"><span class="pl-pds">"</span>params<span class="pl-pds">"</span></span>: {
                <span class="pl-s"><span class="pl-pds">"</span>negative_prompt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>(((nsfw))),EasyNegative,badhandv4,ng_deepnegative_v1_75t,(worst quality:2), (low quality:2), (normal quality:2), lowres, ((monochrome)), ((grayscale)), bad anatomy,DeepNegative, skin spots, acnes, skin blemishes,(fat:1.2),facing away, looking away,tilted head, lowres,bad anatomy,bad hands, missing fingers,extra digit, fewer digits,bad feet,poorly drawn hands,poorly drawn face,mutation,deformed,extra fingers,extra limbs,extra arms,extra legs,malformed limbs,fused fingers,too many fingers,long neck,cross-eyed,mutated hands,polar lowres,bad body,bad proportions,gross proportions,missing arms,missing legs,extra digit, extra arms, extra leg, extra foot,teethcroppe,signature, watermark, username,blurry,cropped,jpeg artifacts,text,error,Lower body exposure<span class="pl-pds">"</span></span>,
                <span class="pl-s"><span class="pl-pds">"</span>prompt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>masterpiece, best quality<span class="pl-pds">"</span></span>
            },
            <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span>: {
                <span class="pl-s"><span class="pl-pds">"</span>sd_model_checkpoint<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>anything-v5-PrtRE.safetensors [7f96a1a9ca]<span class="pl-pds">"</span></span>
            },
            <span class="pl-s"><span class="pl-pds">"</span>desc<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>使用二次元风格模型出图<span class="pl-pds">"</span></span>
        },
        {
            <span class="pl-s"><span class="pl-pds">"</span>keywords<span class="pl-pds">"</span></span>: [
                <span class="pl-s"><span class="pl-pds">"</span>现实<span class="pl-pds">"</span></span>
            ],
            <span class="pl-s"><span class="pl-pds">"</span>params<span class="pl-pds">"</span></span>: {
                <span class="pl-s"><span class="pl-pds">"</span>negative_prompt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>(((nsfw))),EasyNegative,badhandv4,ng_deepnegative_v1_75t,(worst quality:2), (low quality:2), (normal quality:2), lowres, ((monochrome)), ((grayscale)), bad anatomy,DeepNegative, skin spots, acnes, skin blemishes,(fat:1.2),facing away, looking away,tilted head, lowres,bad anatomy,bad hands, missing fingers,extra digit, fewer digits,bad feet,poorly drawn hands,poorly drawn face,mutation,deformed,extra fingers,extra limbs,extra arms,extra legs,malformed limbs,fused fingers,too many fingers,long neck,cross-eyed,mutated hands,polar lowres,bad body,bad proportions,gross proportions,missing arms,missing legs,extra digit, extra arms, extra leg, extra foot,teethcroppe,signature, watermark, username,blurry,cropped,jpeg artifacts,text,error,Lower body exposure<span class="pl-pds">"</span></span>,
                <span class="pl-s"><span class="pl-pds">"</span>prompt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>masterpiece, best quality<span class="pl-pds">"</span></span>
            },
            <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span>: {
                <span class="pl-s"><span class="pl-pds">"</span>sd_model_checkpoint<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>absolutereality_v181.safetensors [463d6a9fe8]<span class="pl-pds">"</span></span>
            },
            <span class="pl-s"><span class="pl-pds">"</span>desc<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>使用现实风格模型出图<span class="pl-pds">"</span></span>
        },
        {
            <span class="pl-s"><span class="pl-pds">"</span>keywords<span class="pl-pds">"</span></span>: [
                <span class="pl-s"><span class="pl-pds">"</span>Q版<span class="pl-pds">"</span></span>
            ],
            <span class="pl-s"><span class="pl-pds">"</span>params<span class="pl-pds">"</span></span>: {
                <span class="pl-s"><span class="pl-pds">"</span>negative_prompt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>(((nsfw))),EasyNegative,badhandv4,ng_deepnegative_v1_75t,(worst quality:2), (low quality:2), (normal quality:2), lowres, ((monochrome)), ((grayscale)), bad anatomy,DeepNegative, skin spots, acnes, skin blemishes,(fat:1.2),facing away, looking away,tilted head, lowres,bad anatomy,bad hands, missing fingers,extra digit, fewer digits,bad feet,poorly drawn hands,poorly drawn face,mutation,deformed,extra fingers,extra limbs,extra arms,extra legs,malformed limbs,fused fingers,too many fingers,long neck,cross-eyed,mutated hands,polar lowres,bad body,bad proportions,gross proportions,missing arms,missing legs,extra digit, extra arms, extra leg, extra foot,teethcroppe,signature, watermark, username,blurry,cropped,jpeg artifacts,text,error,Lower body exposure<span class="pl-pds">"</span></span>,
                <span class="pl-s"><span class="pl-pds">"</span>prompt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>masterpiece, best quality<span class="pl-pds">"</span></span>
            },
            <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span>: {
                <span class="pl-s"><span class="pl-pds">"</span>sd_model_checkpoint<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>QteaMix-fp16.safetensors [0c1efcbbd6]<span class="pl-pds">"</span></span>
            },
            <span class="pl-s"><span class="pl-pds">"</span>desc<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>使用Q版风格模型出图<span class="pl-pds">"</span></span>
        }
    ],
    <span class="pl-s"><span class="pl-pds">"</span>roles<span class="pl-pds">"</span></span>: [
        {
            <span class="pl-s"><span class="pl-pds">"</span>title<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>🌈 图像动漫化<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>prompt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>masterpiece, best quality<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>negative_prompt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>(((nsfw))),EasyNegative,badhandv4,ng_deepnegative_v1_75t,(worst quality:2), (low quality:2), (normal quality:2), lowres, ((monochrome)), ((grayscale)), bad anatomy,DeepNegative, skin spots, acnes, skin blemishes,(fat:1.2),facing away, looking away,tilted head, lowres,bad anatomy,bad hands, missing fingers,extra digit, fewer digits,bad feet,poorly drawn hands,poorly drawn face,mutation,deformed,extra fingers,extra limbs,extra arms,extra legs,malformed limbs,fused fingers,too many fingers,long neck,cross-eyed,mutated hands,polar lowres,bad body,bad proportions,gross proportions,missing arms,missing legs,extra digit, extra arms, extra leg, extra foot,teethcroppe,signature, watermark, username,blurry,cropped,jpeg artifacts,text,error,Lower body exposure<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>denoising_strength<span class="pl-pds">"</span></span>: 0.45,
            <span class="pl-s"><span class="pl-pds">"</span>cfg_scale<span class="pl-pds">"</span></span>: 7.0,
            <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span>: {
                <span class="pl-s"><span class="pl-pds">"</span>sd_model_checkpoint<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>anything-v5-PrtRE.safetensors [7f96a1a9ca]<span class="pl-pds">"</span></span>
            }
        },
        {
            <span class="pl-s"><span class="pl-pds">"</span>title<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>👧 可爱女生<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>prompt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>masterpiece, best quality<span class="pl-pds">"</span></span>,
            "negative_prompt": "paintings, sketches, (worst quality:2), (low quality:2), (normal quality:2), lowres, ((monochrome)), ((grayscale)), skin spots, acnes, skin blemishes, age spot, glans, extra fingers, fewer fingers, ((watermark:2)), (white letters:1), (multi nipples), bad anatomy, bad hands, text, error, missing fingers, missing arms, missing legs, extra digit, fewer digits, cropped, worst quality, jpeg artifacts, signature, watermark, username, bad feet, Multiple people, blurry, poorly drawn hands, poorly drawn face, mutation, deformed, extra limbs, extra arms, extra legs, malformed limbs, fused fingers, too many fingers, long neck, cross-eyed, mutated hands, polar lowres, bad body, bad proportions, gross proportions, wrong feet bottom render, abdominal stretch, briefs, knickers, kecks, thong, fused fingers, bad body,bad proportion body to legs, wrong toes, extra toes, missing toes, weird toes, 2 body, 2 pussy, 2 upper, 2 lower, 2 head, 3 hand, 3 feet, extra long leg, super long leg, mirrored image, mirrored noise,, badhandv4, ng_deepnegative_v1_75t",
            <span class="pl-s"><span class="pl-pds">"</span>denoising_strength<span class="pl-pds">"</span></span>: 0.45,
            <span class="pl-s"><span class="pl-pds">"</span>cfg_scale<span class="pl-pds">"</span></span>: 8.0,
            <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span>: {
                <span class="pl-s"><span class="pl-pds">"</span>sd_model_checkpoint<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>anything-v5-PrtRE.safetensors [7f96a1a9ca]<span class="pl-pds">"</span></span>
            }
        },
        {
            <span class="pl-s"><span class="pl-pds">"</span>title<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>🧑 帅气男神<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>prompt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>boy, male focus, topless male, messy hair, looking at viewer, outdoors, beautiful lighting, deep shadow, best quality, masterpiece, ultra highres, photorealistic, blurry background,<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>negative_prompt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>cartoon, anime, sketches,(worst quality, low quality), (deformed, distorted, disfigured), (bad eyes, wrong lips, weird mouth, bad teeth, mutated hands and fingers:1.2), bad anatomy, wrong anatomy, amputation, extra limb, missing limb, floating limbs, disconnected limbs, mutation, ugly, disgusting, (bad_pictures, negative_hand-neg:1.2)<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>denoising_strength<span class="pl-pds">"</span></span>: 0.45,
            <span class="pl-s"><span class="pl-pds">"</span>cfg_scale<span class="pl-pds">"</span></span>: 8.0,
            <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span>: {
                <span class="pl-s"><span class="pl-pds">"</span>sd_model_checkpoint<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>anything-v5-PrtRE.safetensors [7f96a1a9ca]<span class="pl-pds">"</span></span>
            }
        },
        {
            <span class="pl-s"><span class="pl-pds">"</span>title<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>💑 二次元情侣<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>prompt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>absurdres, highres, ultra detailed, (:1.3), BREAK , Create a vintage advertisement, with retro design elements, classic typography, and a nostalgic atmosphere. BREAK , Create an image of a half-human, half-dragon hybrid, with a combination of physical features and powers from both of their parentage. BREAK , Create an image with a shallow depth of field, focusing on the subject and blurring the background for a sense of depth and separation. BREAK , Illustrate an old-town street, with historic buildings, cobblestone streets, and a sense of charm and nostalgia. BREAK , Capture a tender moment between a couple, showcasing their love, intimacy, and emotional connection. BREAK , Illustrate an image using soft pastel colors, with a gentle, dreamy quality and a focus on light and atmosphere.<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>negative_prompt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>EasyNegative, (worst quality, low quality:1.4), nsfw, (blush:1.3), logo<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>denoising_strength<span class="pl-pds">"</span></span>: 0.45,
            <span class="pl-s"><span class="pl-pds">"</span>cfg_scale<span class="pl-pds">"</span></span>: 8.0,
            <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span>: {
                <span class="pl-s"><span class="pl-pds">"</span>sd_model_checkpoint<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>anything-v5-PrtRE.safetensors [7f96a1a9ca]<span class="pl-pds">"</span></span>
            }
        },
        {
            <span class="pl-s"><span class="pl-pds">"</span>title<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>🦄 Q版化图像<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>prompt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>masterpiece, best quality<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>negative_prompt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>(((nsfw))),EasyNegative,badhandv4,ng_deepnegative_v1_75t,(worst quality:2), (low quality:2), (normal quality:2), lowres, ((monochrome)), ((grayscale)), bad anatomy,DeepNegative, skin spots, acnes, skin blemishes,(fat:1.2),facing away, looking away,tilted head, lowres,bad anatomy,bad hands, missing fingers,extra digit, fewer digits,bad feet,poorly drawn hands,poorly drawn face,mutation,deformed,extra fingers,extra limbs,extra arms,extra legs,malformed limbs,fused fingers,too many fingers,long neck,cross-eyed,mutated hands,polar lowres,bad body,bad proportions,gross proportions,missing arms,missing legs,extra digit, extra arms, extra leg, extra foot,teethcroppe,signature, watermark, username,blurry,cropped,jpeg artifacts,text,error,Lower body exposure<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>denoising_strength<span class="pl-pds">"</span></span>: 0.7,
            <span class="pl-s"><span class="pl-pds">"</span>cfg_scale<span class="pl-pds">"</span></span>: 7.0,
            <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span>: {
                <span class="pl-s"><span class="pl-pds">"</span>sd_model_checkpoint<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>QteaMix-fp16.safetensors [0c1efcbbd6]<span class="pl-pds">"</span></span>
            }
        },
        {
            <span class="pl-s"><span class="pl-pds">"</span>title<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>🏎 机甲女孩<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>prompt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>absurdres, highres, ultra detailed, (1girl:1.3), BREAK , Sun Knight, solar magic, light manipulation, radiant power, sunbeam attacks, aura of warmth, shining armor BREAK , photo manipulation, altered realities, fantastical scenes, digital artistry, creative editing, evocative narratives, striking visuals BREAK , kinetic art, moving sculptures, mechanical creations, interactive installations, dynamic motion, engineering ingenuity, captivating visuals<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>negative_prompt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>EasyNegative, (worst quality, low quality:1.4), nsfw<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>denoising_strength<span class="pl-pds">"</span></span>: 0.45,
            <span class="pl-s"><span class="pl-pds">"</span>cfg_scale<span class="pl-pds">"</span></span>: 7.0,
            <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span>: {
                <span class="pl-s"><span class="pl-pds">"</span>sd_model_checkpoint<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>anything-v5-PrtRE.safetensors [7f96a1a9ca]<span class="pl-pds">"</span></span>
            }
        },
        {
            <span class="pl-s"><span class="pl-pds">"</span>title<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>🌸 樱花女孩<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>prompt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>(masterpiece, high quality, highres,illustration),blurry background,[(white background:1.2)::5],cowboy shot, spring (season),(no light:1.1),(temptation:1.2),elegance, (1loli:1.1),(very long hair:1.1),(blush:0.7),floating hair,ahoge,deep sky,star (sky), (summer (Floral:1.2) dress:1.1),outline,(see-through:0.85),shining,low twintails, (polychromatic peony:1.15),Movie poster,(colorful:1.1),ornament,petals,(pantyhose:1.1), ribbon<span class="pl-pds">"</span></span>,
            "negative_prompt": "sketch, duplicate, ugly, huge eyes, text, logo, worst face, (bad and mutated hands:1.3), (worst quality:2.0), (low quality:2.0), (blurry:2.0), horror, geometry, bad_prompt, (bad hands), (missing fingers), multiple limbs, bad anatomy, (interlocked fingers:1.2), Ugly Fingers, (extra digit and hands and fingers and legs and arms:1.4), ((2girl)), (deformed fingers:1.2), (long fingers:1.2),(bad-artist-anime), bad-artist, bad hand, extra legs, nipples,nsfw, Size: 384x832, Seed: 969039108, Model: MAADBD2fp16, Steps: 20, (blurry: 2.0), horror, geometry, bad_prompt, (bad hands), (missing fingers), multiple limbs, bad anatomy, Version: v1.3.2, Sampler: DPM++ 2M Karras, CFG scale: 8, Clip skip: 2, Model hash: cca17b08da, Hires steps: 20, (low quality: 2.0), (long fingers: 1.2),(bad-artist-anime), bad-artist, bad hand, extra legs, nipples,nsfw, Hires upscale: 2, (worst quality: 2.0), Hires upscaler: Latent, (deformed fingers: 1.2), Denoising strength: 0.5, (interlocked fingers: 1.2), Ugly Fingers, (bad and mutated hands: 1.3), Wildcard negative prompt: sketch, duplicate, ugly, huge eyes, text, logo, worst face, (extra digit and hands and fingers and legs and arms: 1.4), ((2girl))",
            <span class="pl-s"><span class="pl-pds">"</span>denoising_strength<span class="pl-pds">"</span></span>: 0.45,
            <span class="pl-s"><span class="pl-pds">"</span>cfg_scale<span class="pl-pds">"</span></span>: 8.0,
            <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span>: {
                <span class="pl-s"><span class="pl-pds">"</span>sd_model_checkpoint<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>anything-v5-PrtRE.safetensors [7f96a1a9ca]<span class="pl-pds">"</span></span>
            }
        }
    ]
}
</pre></div>
<p>PS: 如果你下载了多个模型，就可以根据实际需要，填入你想要的模型 请确保你填入的模型是你下载过的模型，且模型能正常使用！</p>
<ol start="3">
<li>修改文件</li>
</ol>
<h2>个人号</h2>
<ol>
<li>直接把<a href="https://github.com/Yanyutin753/wechat_pictureChange/blob/main/%E4%B8%AA%E4%BA%BA%E5%8F%B7/chat_channel.py">chat_channel.py</a>覆盖你的chatgpt-on-wechat\channel\chat_channel.py</li>
<li>直接把<a href="https://github.com/Yanyutin753/wechat_pictureChange/blob/main/%E5%85%AC%E4%BC%97%E5%8F%B7%E5%92%8C%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1/godcmd.py">godcmd.py</a>覆盖你的chatgpt-on-wechat\plugins\godcmd\godcmd.py</li>
<li>在根目录config.json和config.py分别添加下面代码</li>
</ol>
<ul>
<li>config.json</li>
</ul>
<pre class="notranslate"><code class="notranslate">    "group_imageChange": true,默认为True
</code></pre>
<ul>
<li>config.py</li>
</ul>
<pre class="notranslate"><code class="notranslate">    "group_imageChange": False,默认为True
</code></pre>
<p>4.群聊的时候记得先发送@机器人 开启图生图，才能正常使用功能</p>
<h3>公众号和企业微信</h3>
<ol>
<li>
<p>直接把<a href="https://github.com/Yanyutin753/wechat_pictureChange/blob/main/%E5%85%AC%E4%BC%97%E5%8F%B7%E5%92%8C%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1/godcmd.py">godcmd.py</a>覆盖你的chatgpt-on-wechat\plugins\godcmd\godcmd.py</p>
</li>
<li>
<p>安装依赖</p>
</li>
</ol>
<pre class="notranslate"><code class="notranslate">    #进入pictureChange文件夹安装依赖
    pip3 install -r requirements.txt
</code></pre>
<h3>使用实例</h3>
<ul>
<li>图生图</li>
</ul>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/Yanyutin753/pictureChange/assets/132346501/4d6f16b0-136a-48d6-991e-482ce3bbc701"><img src="https://github.com/Yanyutin753/pictureChange/assets/132346501/4d6f16b0-136a-48d6-991e-482ce3bbc701" alt="image" style="max-width: 100%;"></a></p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/Yanyutin753/pictureChange/assets/132346501/783d6f22-c18e-4368-bc91-aa62a24c0c78"><img src="https://github.com/Yanyutin753/pictureChange/assets/132346501/783d6f22-c18e-4368-bc91-aa62a24c0c78" alt="image" style="max-width: 100%;"></a></p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/Yanyutin753/pictureChange/assets/132346501/cc5f8843-6a42-422c-bbeb-1c073ffa651b"><img src="https://github.com/Yanyutin753/pictureChange/assets/132346501/cc5f8843-6a42-422c-bbeb-1c073ffa651b" alt="9d3c926daec3b69ef1f2e1b38e4ad7e" style="max-width: 100%;"></a></p>
<ul>
<li>画图</li>
</ul>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/Yanyutin753/pictureChange/assets/132346501/428a2333-1589-42fd-88df-a1b182f8b3f6"><img src="https://github.com/Yanyutin753/pictureChange/assets/132346501/428a2333-1589-42fd-88df-a1b182f8b3f6" alt="image" style="max-width: 100%;"></a></p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/Yanyutin753/pictureChange/assets/132346501/89782b7c-8f28-42af-8c16-a588539219a3"><img src="https://github.com/Yanyutin753/pictureChange/assets/132346501/89782b7c-8f28-42af-8c16-a588539219a3" alt="image" style="max-width: 100%;"></a></p>
<ul>
<li>支持放大 变换操作</li>
</ul>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/Yanyutin753/pictureChange/assets/132346501/1ab662b2-bd3c-490f-9981-404dcb1ca0e3"><img src="https://github.com/Yanyutin753/pictureChange/assets/132346501/1ab662b2-bd3c-490f-9981-404dcb1ca0e3" alt="image" style="max-width: 100%;"></a></p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/Yanyutin753/pictureChange/assets/132346501/32949ac2-93fc-4b7c-8387-f5cd7b1cb139"><img src="https://github.com/Yanyutin753/pictureChange/assets/132346501/32949ac2-93fc-4b7c-8387-f5cd7b1cb139" alt="image" style="max-width: 100%;"></a></p>
<h3>贡献与支持</h3>
<ul>
<li>
<p>欢迎贡献代码，提出问题和建议。如果你发现了bug或者有新的功能想法，请提交一个Issue让我知道。你也可以通过Fork项目并提交Pull Request来贡献代码。 如果你想部署这个项目，给我一个星星⭐，这是对我最大的支持！</p>
</li>
<li>
<p>敲代码不易，希望客官给点赞助，让我更好修改代码！<br>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/Yanyutin753/wechat_pictureChange/assets/132346501/713eb69e-6e00-46ad-bec5-0b3926305ef0"><img src="https://github.com/Yanyutin753/wechat_pictureChange/assets/132346501/713eb69e-6e00-46ad-bec5-0b3926305ef0" alt="image" style="max-width: 100%;"></a></p>
</li>
<li>
<p>欢迎加入群聊讨论<br>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/Yanyutin753/pictureChange/assets/132346501/3a3fac14-086a-4622-9cb6-4c9c3e20596e"><img src="https://github.com/Yanyutin753/pictureChange/assets/132346501/3a3fac14-086a-4622-9cb6-4c9c3e20596e" alt="2045e6eec4d1feebab7159b200154bd" style="max-width: 100%;"></a></p>
</li>
</ul></div>
<div style="font-size:small;margin-top:8px;float:right;"></div>
<button class="btn btn-block" type="button" onclick="openComments()" id="cmButton">评论</button>
<div class="comments" id="comments"></div>
</div>
    <div id="footer">Copyright © <span id="year"></span><a href="http://blog.clivia.fun"> Lamb Blog </a>
<p>
<span id="runday"></span>Powered by <a href="https://github.com/Yanyutin753/Gmeek" target="_blank">Yanyutin753</a>
</p>

<script>
if("9/9/2023"!=""){
    var now=new Date();
    var startSite=new Date("9/9/2023");
    var diff=now.getTime()-startSite.getTime();
    var diffDay=Math.floor(diff/(1000*60*60*24));
    document.getElementById("year").innerHTML=now.getFullYear();
    if(""!=""){document.getElementById("runday").innerHTML=" • "+"网站运行"+diffDay+"天"+" • ";}
    else{document.getElementById("runday").innerHTML="网站运行"+diffDay+"天"+" • ";}
}
</script>
</div>
</body>
<script>
var IconList={'post': 'M0 3.75C0 2.784.784 2 1.75 2h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14H1.75A1.75 1.75 0 0 1 0 12.25Zm1.75-.25a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25ZM3.5 6.25a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5h-7a.75.75 0 0 1-.75-.75Zm.75 2.25h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1 0-1.5Z', 'link': 'm7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z', 'about': 'M10.561 8.073a6.005 6.005 0 0 1 3.432 5.142.75.75 0 1 1-1.498.07 4.5 4.5 0 0 0-8.99 0 .75.75 0 0 1-1.498-.07 6.004 6.004 0 0 1 3.431-5.142 3.999 3.999 0 1 1 5.123 0ZM10.5 5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z', 'sun': 'M8 10.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zM8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z', 'moon': 'M9.598 1.591a.75.75 0 01.785-.175 7 7 0 11-8.967 8.967.75.75 0 01.961-.96 5.5 5.5 0 007.046-7.046.75.75 0 01.175-.786zm1.616 1.945a7 7 0 01-7.678 7.678 5.5 5.5 0 107.678-7.678z', 'search': 'M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z', 'rss': 'M2.002 2.725a.75.75 0 0 1 .797-.699C8.79 2.42 13.58 7.21 13.974 13.201a.75.75 0 0 1-1.497.098 10.502 10.502 0 0 0-9.776-9.776.747.747 0 0 1-.7-.798ZM2.84 7.05h-.002a7.002 7.002 0 0 1 6.113 6.111.75.75 0 0 1-1.49.178 5.503 5.503 0 0 0-4.8-4.8.75.75 0 0 1 .179-1.489ZM2 13a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z', 'upload': 'M2.75 14A1.75 1.75 0 0 1 1 12.25v-2.5a.75.75 0 0 1 1.5 0v2.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25v-2.5a.75.75 0 0 1 1.5 0v2.5A1.75 1.75 0 0 1 13.25 14Z M11.78 4.72a.749.749 0 1 1-1.06 1.06L8.75 3.811V9.5a.75.75 0 0 1-1.5 0V3.811L5.28 5.78a.749.749 0 1 1-1.06-1.06l3.25-3.25a.749.749 0 0 1 1.06 0l3.25 3.25Z', 'github': 'M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z', 'home': 'M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z'};
var utterancesLoad=0;
if(localStorage.getItem("meek_theme")==null){localStorage.setItem("meek_theme","light");changeLight();}
else if(localStorage.getItem("meek_theme")=="dark"){changeDark();}
else if(localStorage.getItem("meek_theme")=="light"){changeLight();}

function changeDark(){
    document.getElementsByTagName("html")[0].attributes.getNamedItem("data-color-mode").value="dark";
    document.getElementById("themeSwitch").setAttribute("d",value=IconList["moon"]);
    document.getElementById("themeSwitch").parentNode.style.color="#00f0ff";
    if(utterancesLoad==1){utterancesTheme("dark-blue");}
}
function changeLight(){
    document.getElementsByTagName("html")[0].attributes.getNamedItem("data-color-mode").value="light";
    document.getElementById("themeSwitch").setAttribute("d",value=IconList["sun"]);
    document.getElementById("themeSwitch").parentNode.style.color="#ff5000";
    if(utterancesLoad==1){utterancesTheme("github-light");}
}
function modeSwitch(){
    if(document.getElementsByTagName("html")[0].attributes[0].value=="light"){changeDark();localStorage.setItem("meek_theme","dark");}
    else{changeLight();localStorage.setItem("meek_theme","light");}
}
function utterancesTheme(theme){
    const message = {type: 'set-theme',theme: theme};
    const iframe = document.getElementsByClassName('utterances-frame')[0];
    iframe.contentWindow.postMessage(message, 'https://utteranc.es');
}

console.log("\n %c Yanyutin753 last %c https://github.com/Yanyutin753/Gmeek \n\n", "color: #fff; background-image: linear-gradient(90deg, rgb(47, 172, 178) 0%, rgb(45, 190, 96) 100%); padding:5px 1px;", "background-image: linear-gradient(90deg, rgb(45, 190, 96) 0%, rgb(255, 255, 255) 100%); padding:5px 0;");
</script>

<script>



function openComments(){
    cm=document.getElementById("comments");
    cmButton=document.getElementById("cmButton");
    cmButton.innerHTML="loading";
    span=document.createElement("span");
    span.setAttribute("class","AnimatedEllipsis");
    cmButton.appendChild(span);

    script=document.createElement("script");
    script.setAttribute("src","https://utteranc.es/client.js");
    script.setAttribute("repo","Yanyutin753/clivia.github.io");
    script.setAttribute("issue-term","title");
    if(localStorage.getItem("meek_theme")=="dark"){script.setAttribute("theme","dark-blue");}
    else{script.setAttribute("theme","github-light");}
    script.setAttribute("crossorigin","anonymous");
    script.setAttribute("async","");
    cm.appendChild(script);

    int=self.setInterval("iFrameLoading()",200);
}

function iFrameLoading(){
    var utterances=document.getElementsByClassName('utterances');
    if(utterances.length==1){
        if(utterances[0].style.height!=""){
            utterancesLoad=1;
            int=window.clearInterval(int);
            document.getElementById("cmButton").style.display="none";
            console.log("utterances Load OK");
        }
    }
}

</script>




</html>
